(function(t){function e(e){for(var r,n,i=e[0],c=e[1],l=e[2],m=0,p=[];m<i.length;m++)n=i[m],Object.prototype.hasOwnProperty.call(a,n)&&a[n]&&p.push(a[n][0]),a[n]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);u&&u(e);while(p.length)p.shift()();return s.push.apply(s,l||[]),o()}function o(){for(var t,e=0;e<s.length;e++){for(var o=s[e],r=!0,i=1;i<o.length;i++){var c=o[i];0!==a[c]&&(r=!1)}r&&(s.splice(e--,1),t=n(n.s=o[0]))}return t}var r={},a={app:0},s=[];function n(e){if(r[e])return r[e].exports;var o=r[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=r,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(o,r,function(e){return t[e]}.bind(null,r));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var l=0;l<i.length;l++)e(i[l]);var u=c;s.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("56d7")},"56d7":function(t,e,o){"use strict";o.r(e);o("e260"),o("e6cf"),o("cca6"),o("a79d");var r=o("2b0e"),a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-app",{attrs:{id:"app"}},[o("v-banner",{attrs:{"single-line":"",color:"orange lighten-2 white--text"},scopedSlots:t._u([{key:"actions",fn:function(){return[o("v-btn",{attrs:{color:"primary",text:""},on:{click:t.reportIssue}},[t._v(" Report Issue ")])]},proxy:!0}])},[t._v(" This is a beta build. ")]),o("error-message",{attrs:{message:t.error_message,hidden:!t.show_error_message}}),o("router-view")],1)},s=[],n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return t.hidden?t._e():o("v-banner",{attrs:{"single-line":"",color:"red white--text"}},[t._v(" "+t._s(t.message)+" ")])},i=[],c={name:"ErrorMessage",props:["message","hidden"]},l=c,u=o("2877"),m=o("6544"),p=o.n(m),d=o("e4e5"),_=Object(u["a"])(l,n,i,!1,null,"60a3c66c",null),y=_.exports;p()(_,{VBanner:d["a"]});var f={name:"App",components:{ErrorMessage:y},data:function(){return{error_message:"",show_error_message:!1}},methods:{display_error_message:function(t){var e=this;this.error_message=t,this.show_error_message=!0,setTimeout((function(){return e.show_error_message=!1}),2e3)},reportIssue:function(){window.open("https://github.com/ZijiaZhang/guess-word-4ji/issues","_blank").focus()}},mounted:function(){var t=this;r["a"].prototype.$socket.on("error",(function(e){t.display_error_message(e),t.$store.commit("setRoomState",{}),"/"!==t.$router.currentRoute.path&&t.$router.push("/")}))}},h=f,v=o("7496"),g=o("8336"),$=Object(u["a"])(h,a,s,!1,null,null,null),b=$.exports;p()($,{VApp:v["a"],VBanner:d["a"],VBtn:g["a"]});var w=o("f309");r["a"].use(w["a"]);var k=new w["a"]({}),x=o("2f62"),C=o("ec26"),j=o("0e44");r["a"].use(x["a"]);var V=new x["a"].Store({plugins:[Object(j["a"])()],modules:{},state:{playerName:"Player",playerID:Object(C["a"])(),room_key:void 0,room_state:{},word_len:0},mutations:{setRoom:function(t,e){t.room_key=e},setPlayerName:function(t,e){t.playerName=e},setRoomState:function(t,e){t.room_state=e},setWordLen:function(t,e){t.word_len=e}}}),O=V,S=o("8c4f"),R=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-container",[o("h1",[t._v("Welcome to Guess Word")]),o("v-text-field",{attrs:{label:" Enter a Room Key: "},model:{value:t.room_id,callback:function(e){t.room_id=e},expression:"room_id"}}),o("v-text-field",{attrs:{label:"Enter your Name:"},on:{change:t.update_player_name},model:{value:t.player_name,callback:function(e){t.player_name=e},expression:"player_name"}}),o("v-row",[o("v-btn",{staticClass:"mx-2",on:{click:t.create_room}},[t._v("Create Room")]),o("v-btn",{staticClass:"mx-2",on:{click:t.join_room}},[t._v("Join Room")])],1)],1)},T=[],I={name:"Welcome",data:function(){return{room_id:this.$store.state.room_key,player_name:this.$store.state.playerName}},methods:{create_room:function(){r["a"].prototype.$socket.emit("create",this.room_id,{player_id:this.$store.state.playerID,player_name:this.$store.state.playerName})},join_room:function(){r["a"].prototype.$socket.emit("join",this.room_id,{player_id:this.$store.state.playerID,player_name:this.$store.state.playerName})},update_player_name:function(){this.$store.commit("setPlayerName",this.player_name)}},mounted:function(){var t=this;r["a"].prototype.$socket.on("room_created",(function(e){t.$store.commit("setRoom",t.room_id),t.$store.commit("setRoomState",e),t.$router.push("/wait")})),r["a"].prototype.$socket.on("room_joined",(function(){t.$store.commit("setRoom",t.room_id),t.$router.push("/wait")})),r["a"].prototype.$socket.on("room_update",(function(e){t.$store.commit("setRoomState",e)}))},beforeDestroy:function(){r["a"].prototype.$socket.off("room_created"),r["a"].prototype.$socket.off("room_update")}},P=I,D=o("a523"),E=o("0fd9"),W=o("8654"),G=Object(u["a"])(P,R,T,!1,null,null,null),N=G.exports;p()(G,{VBtn:g["a"],VContainer:D["a"],VRow:E["a"],VTextField:W["a"]});var L=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("v-card",{staticClass:"mx-auto mt-2",attrs:{width:"80%"}},[o("v-card-title",[t._v("Waiting Room")]),o("v-card-subtitle",{staticClass:"align-start"},[t._v(t._s(this.$store.state.room_state.room_key))]),o("v-list",{attrs:{"two-line":""}},[o("v-toolbar",{attrs:{flat:""}},[o("v-toolbar-title",{staticClass:"text-h6",attrs:{flat:""}},[t._v(" Players ")])],1),t._l(this.$store.state.room_state.players,(function(e){return o("v-list-item",{key:e.player_id},[o("v-list-item-content",[o("v-list-item-title",[t._v(t._s(e.player_name||"Player"))]),o("v-list-item-subtitle",[t._v(t._s(e.player_id))])],1)],1)}))],2),this.$store.state.room_state.players&&"creator"===this.$store.state.room_state.players[t.$store.state.playerID].role?o("v-btn",{on:{click:t.start_game}},[t._v("Start")]):o("v-card-subtitle",{staticClass:"black--text"},[t._v("Waiting for creator to start the game ...")]),o("v-card-text",{staticClass:"text-caption"},[t._v(t._s(JSON.stringify(this.$store.state.room_state)))])],1)],1)},B=[],M={name:"WaitingRoom",methods:{start_game:function(){r["a"].prototype.$socket.emit("start")}},mounted:function(){var t=this;r["a"].prototype.$socket.emit("get"),r["a"].prototype.$socket.on("room_update",(function(e){t.$store.commit("setRoomState",e),"started"===e.status&&t.$router.push("/game")})),r["a"].prototype.$socket.on("game_start",(function(e){console.log(e),t.$store.commit("setWordLen",e),t.$router.push("/game")}))},beforeDestroy:function(){r["a"].prototype.$socket.off("room_update"),r["a"].prototype.$socket.off("game_start")}},J=M,H=o("b0af"),A=o("99d9"),F=o("8860"),Z=o("da13"),K=o("5d23"),q=o("71d9"),z=o("2a7f"),Q=Object(u["a"])(J,L,B,!1,null,"486263b5",null),U=Q.exports;p()(Q,{VBtn:g["a"],VCard:H["a"],VCardSubtitle:A["a"],VCardText:A["b"],VCardTitle:A["c"],VList:F["a"],VListItem:Z["a"],VListItemContent:K["a"],VListItemSubtitle:K["b"],VListItemTitle:K["c"],VToolbar:q["a"],VToolbarTitle:z["a"]});var X=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-card",{staticClass:"py-2 my-2"},[o("v-card-title",[t._v("Game")]),o("v-card-subtitle",[t._v("History")]),o("v-simple-table",{staticClass:"mx-auto mb-2",staticStyle:{width:"fit-content"}},[o("tbody",[t._l(t.$store.state.room_state.history,(function(e,r){return o("tr",{key:r,staticClass:"justify-center"},[o("td",[o("span",[t._v(t._s(t.$store.state.room_state.players[e.player_id].player_name))])]),t._l(e.word,(function(t,e){return o("td",{key:e,staticClass:"text-center px-1",staticStyle:{"max-width":"50px"}},[o("GameCharacter",{attrs:{character:t.char,status:t.status}})],1)}))],2)})),t.$store.state.room_state.pending_players[t.$store.state.room_state.current_round]===t.$store.state.playerID||0===t.$store.state.room_state.history.length?o("tr",{staticClass:"justify-center"},[o("td",[o("span",[t._v(t._s(t.$store.state.room_state.players[t.$store.state.room_state.pending_players[t.$store.state.room_state.current_round]].player_name))])]),t._l(t.$store.state.word_len,(function(e){return o("td",{key:e,staticClass:"text-center px-1"},[e-1<t.pending_word.length?o("GameCharacter",{attrs:{character:t.pending_word[e-1],status:"unknown"}}):o("GameCharacter",{attrs:{character:"_",status:"unknown"}})],1)}))],2):t._e()],2)]),"ended"!==t.$store.state.room_state.status?o("v-card",{staticClass:"mx-auto py-1",attrs:{width:"80%"}},[Object.keys(t.$store.state.room_state.players).length>0?o("v-card-title",[t._v(t._s(t.$store.state.room_state.players[t.$store.state.room_state.pending_players[t.$store.state.room_state.current_round]].player_name+" is guessing..."))]):t._e(),Object.keys(t.$store.state.room_state.players).length>0?o("v-card-subtitle",[t._v(t._s(t.$store.state.room_state.players[t.$store.state.room_state.pending_players[t.$store.state.room_state.current_round]].player_id))]):t._e(),t.$store.state.room_state.pending_players[t.$store.state.room_state.current_round]===t.$store.state.playerID?o("div",{staticClass:"mx-auto",staticStyle:{width:"90%"}},[o("v-text-field",{attrs:{disabled:t.$store.state.room_state.pending_players[t.$store.state.room_state.current_round]!==t.$store.state.playerID,error:t.pending_word.length>t.$store.state.word_len,"error-messages":t.pending_word.length>t.$store.state.word_len?"Word too long":void 0,label:"Enter your Guess here"},model:{value:t.pending_word,callback:function(e){t.pending_word=e},expression:"pending_word"}}),o("v-btn",{attrs:{disabled:t.pending_word.length!==t.$store.state.word_len||t.$store.state.room_state.pending_players[t.$store.state.room_state.current_round]!==t.$store.state.playerID},on:{click:t.submit}},[t._v("Submit")])],1):t._e()],1):t.word?o("v-card",{staticClass:"mx-auto",attrs:{width:"80%"}},[o("v-card-title",[t._v(t._s(t.word.word))]),o("v-card-subtitle",[t._v(t._s(t.word.mean))]),o("v-btn",{on:{click:function(){return t.$router.push("/")}}},[t._v("Return To Home")])],1):t._e()],1)},Y=[],tt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{class:t.color},[o("span",{staticClass:"py-3 px-2"},[t._v(t._s(t.character))])])},et=[],ot="correct",rt="wrong",at="partial",st={name:"GameCharacter",props:["character","status"],computed:{color:function(){return this.status===ot?"green lighten-2 mx-1":this.status===rt?"red lighten-1 mx-1":this.status===at?"orange lighten-2 mx-1":(this.status,"grey lighten-1 mx-1")}}},nt=st,it=Object(u["a"])(nt,tt,et,!1,null,"2667da7d",null),ct=it.exports,lt={name:"Game",components:{GameCharacter:ct},data:function(){return{word:void 0,pending_word:""}},methods:{submit:function(){r["a"].prototype.$socket.emit("submit",this.pending_word),this.pending_word=""}},watch:function(){},mounted:function(){var t=this;r["a"].prototype.$socket.emit("get"),r["a"].prototype.$socket.on("room_update",(function(e){"ended"===e.status&&r["a"].prototype.$socket.emit("get_word"),t.$store.commit("setRoomState",e)})),r["a"].prototype.$socket.on("word_len",(function(e){t.$store.commit("setWordLen",e)})),r["a"].prototype.$socket.emit("word_len"),r["a"].prototype.$socket.on("get_word",(function(e){t.word=e}))},beforeDestroy:function(){r["a"].prototype.$socket.off("room_update"),r["a"].prototype.$socket.off("word_len")}},ut=lt,mt=o("1f4f"),pt=Object(u["a"])(ut,X,Y,!1,null,"bce1970e",null),dt=pt.exports;p()(pt,{VBtn:g["a"],VCard:H["a"],VCardSubtitle:A["a"],VCardTitle:A["c"],VSimpleTable:mt["a"],VTextField:W["a"]}),r["a"].use(S["a"]);var _t=[{path:"/",name:"Home",component:N},{path:"/wait",name:"Waiting Room",component:U},{path:"/game",name:"Game Room",component:dt}],yt=new S["a"]({routes:_t}),ft=yt,ht=o("daa8");r["a"].config.productionTip=!1,r["a"].prototype.$socket=Object(ht["a"])(),new r["a"]({vuetify:k,store:O,router:ft,render:function(t){return t(b)}}).$mount("#app")}});
//# sourceMappingURL=app.56f97daa.js.map